(()=>{var e={};e.id=294,e.ids=[294],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},8971:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>m,routeModule:()=>w,serverHooks:()=>f,workAsyncStorage:()=>y,workUnitAsyncStorage:()=>S});var s={};t.r(s),t.d(s,{GET:()=>x,POST:()=>v});var n=t(2706),i=t(8203),o=t(5994),a=t(9187);let p=require("fs");var u=t.n(p),c=t(3873),d=t.n(c);let l=d().join(process.cwd(),"data","page-views.json"),g=d().join(process.cwd(),"data");async function x(e){try{let{searchParams:r}=new URL(e.url),t=r.get("page")||"resources",s=JSON.parse(u().readFileSync(l,"utf8"));return a.NextResponse.json({count:s[t]||0})}catch(e){return console.error("Error getting page views:",e),a.NextResponse.json({error:"Failed to get page views"},{status:500})}}async function v(e){try{let{searchParams:r}=new URL(e.url),t=r.get("page")||"resources",s={};return u().existsSync(l)&&(s=JSON.parse(u().readFileSync(l,"utf8"))),s[t]||(s[t]=0),s[t]++,u().writeFileSync(l,JSON.stringify(s),"utf8"),a.NextResponse.json({count:s[t]})}catch(e){return console.error("Error incrementing page views:",e),a.NextResponse.json({error:"Failed to increment page views"},{status:500})}}u().existsSync(g)||u().mkdirSync(g,{recursive:!0}),u().existsSync(l)||u().writeFileSync(l,JSON.stringify({resources:0}),"utf8");let w=new n.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/page-views/route",pathname:"/api/page-views",filename:"route",bundlePath:"app/api/page-views/route"},resolvedPagePath:"/Users/michelle/Documents/personal-website/app/api/page-views/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:y,workUnitAsyncStorage:S,serverHooks:f}=w;function m(){return(0,o.patchFetch)({workAsyncStorage:y,workUnitAsyncStorage:S})}},6487:()=>{},8335:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,452],()=>t(8971));module.exports=s})();